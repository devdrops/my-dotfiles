#!/bin/bash
##################################
# DOT FILES INSTALLER
#
##################################

# Vim
rm -rf "$HOME/.vim" && \
  cp -a ./.vim "$HOME/"
# Vim 8 Packages:
  # vim-go (https://github.com/fatih/vim-go)
  mkdir -p "$HOME/.vim/pack/plugins/start/vim-go"
  git clone https://github.com/fatih/vim-go.git ~/.vim/pack/plugins/start/vim-go

# NeoVim
if [ ! -d "$HOME/.config/nvim" ]
then
  mkdir -p "$HOME/.config/nvim"
fi
rm -rf "$HOME/.config/nvim" && \
  cp -a ./nvim "$HOME/.config"

# Git
rm -rf "$HOME/.githooks_global" && \
  cp -a ./git/.git* "$HOME/"

# tmux
cp -a ./tmux/.tmux.conf "$HOME/.tmux.conf"

# tmate
cp -a ./tmate/.tmate.conf "$HOME/.tmate.conf"

# Shell extras
if [[ "$OSTYPE" == "linux-gnu"* ]]; then
  cp ./sh/.linux-gnu-custom-settings "$HOME/" && \
    grep -qF "source $HOME/.linux-gnu-custom-settings" "$HOME/.zshrc" || printf "\n# %s custom shell:\nsource %s/.linux-gnu-custom-settings" "$USER" "$HOME" >> "$HOME/.zshrc"
elif [[ "$OSTYPE" == "darwin"* ]]; then
  cp ./sh/.darwin-custom-settings "$HOME/" && \
    grep -qF "source $HOME/.darwin-custom-settings" "$HOME/.zshrc" || printf "\n# %s custom shell:\nsource %s/.darwin-custom-settings" "$USER" "$HOME" >> "$HOME/.zshrc"
fi

# Binaries
rm -rf "$HOME/.my-binaries" && \
  cp -a ./bins "$HOME/.my-binaries"

# ctags
if [[ "$OSTYPE" == "linux-gnu"* ]]; then
    cp .ctags/.linux-ctags "$HOME/.ctags"
elif [[ "$OSTYPE" == "darwin"* ]]; then
    cp .ctags/.macos-ctags "$HOME/.ctags"
fi
